# 习题2

1.如果`T1(n)=O(f(n)),T2(n)=O(g(n))`,解答下列问题。

(1)证明加法定理：`T1(n)+T2(n)=O(max{f(n),g(n)})`。

```text
存在正常数 c1 和 c2,使得对于充分大的 n,使得：
T1(n) <= c1*f(n)
T2(n) <= c2*g(n)
因为T1(n) <= c1*f(n) ; T2(n) ≤ c2*g(n)。
所以T1(n) + T2(n) <= c1*f(n) + c2*g(n) <= (c1 + c2)*max{f(n),g(n)}

```

(2)证明乘法定理：`T1(n)*T2(n)=O(f(n)*g(n))`。

```text
因为T1(n) <= c1*f(n) ; T2(n) <= c2*g(n)
所以T1(n) * T2(n) <= (c1*f(n)) * (c2*g(n)) =  (c1*c2)*(f(n) * g(n)) = O(f(n)*g(n))
```

(3)举例说明在什么情况下应用加法定理和乘法定理。
- 加法定理适用于当算法的不同部分具有相互独立的时间复杂度时。
- 乘法定理适用于当算法中的多个操作是串行执行的，并且它们的时间复杂度相乘。

2.考虑下面的算法,回答下列问题：算法完成什么功能？算法的基本语句是什么？基本语句执行了多少次？算法的时间复杂度是多少？

(1)

```c
int Stery(int n)
{
    int i, sum = 0;
    for (i = 1; i<=n; i++)
        sum += i * i;
    return sum;
}
```

```text
- 算法计算 [1,n]的平方和
- 基本语句是`sum += i * i;`
- 基本语句将执行n次
- 算法的时间复杂度是O(n)
```

(2)

```c
int Q(int n)
{
    if (n == 1)
        return 1;
    else
        return Q(n-1) + 2 * n - 1;
}
```

```text
- 算法计算一个递归序列中的第n个元素
- 基本语句是`return Q(n-1) + 2 * n - 1;`
- 基本语句将执行n-1次
- 算法的时间复杂度是O(n)
```

3.分析以下程序段基本语句的执行次数,要求列出计算公式。

(1)

```c
for (i = 1; i <=n; i++)
    if (2 * i <= n)
        for (j = 2 * i; j <= n; j++)
            y = y + i * j
```

基本语句是`y = y + i * j`。
执行次数= sum[i=1 to n/2]{ sum[j=2*i to n]{1} } = n * (n/2) - 2 * [(n/2) * (n/2+1)] / 2 = n^2/4-n/2 

(2)

```c
count = 0;
for (i = 1; i <= n; i++)
    for (j = 1; j <= 2 * i; j++)
        count++;
```

基本语句是`count++`。
执行次数= sum[i=1 to n]{ sum[j=1 to 2*i]{1} } = sum[i=1 to n]{2*i} = (n+1)n


4.使用扩展递归技术求解下列递推关系式：

(1)
$$T(n) = \begin{cases}
4 & n = 1 \\
3T(n-1) & n > 1
\end{cases}$$

```text
a = 3
b = 1
c*n^k = 0
因为a > b^k
所以T(n) = O(n^log{a,b})
```

(2)
$$T(n) = \begin{cases}
1 & n = 1 \\
2T(n/3)+n & n > 1
\end{cases}$$

```text
a = 2
b = 3
k = 1
因为a < b^k
所以T(n) = O(n^k)
```

5.国际象棋是由印度人Shashi发明的,当他把该发明献给国王时,国王很高兴,就许诺可以给这个发明人任何他想要的奖赏。Shashi 要求以这种方式给他一些粮食：棋盘的第1个方格内只放1粒麦粒,第2格2粒,第3格4粒,第4格8粒,以此类推,直到64个方格全部放满。这个奖赏的最终结果会是什么？

```text
all_sum = sum[i=1 to 64]{2^(i-1)} = 2^64 - 1
```
